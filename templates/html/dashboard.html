% extends "index.html" %}

{% block content %}
<div class="dashboard">
    <h2>Healthcare Records</h2>

    {% if current_user.group == 'H' %}
    <div class="add-record">
        <h3>Add New Record</h3>
        <form method="POST" action="{{ url_for('add_record') }}">
            <input type="text" name="first_name" placeholder="First Name" required>
            <input type="text" name="last_name" placeholder="Last Name" required>
            <select name="gender" required>
                <option value="true">Male</option>
                <option value="false">Female</option>
            </select>
            <input type="number" name="age" placeholder="Age" required>
            <input type="number" step="0.1" name="weight" placeholder="Weight" required>
            <input type="number" step="0.1" name="height" placeholder="Height" required>
            <textarea name="health_history" placeholder="Health History"></textarea>
            <button type="submit">Add Record</button>
        </form>
    </div>
    {% endif %}

    <div class="records">
        <table>
            <thead>
                <tr>
                    {% if current_user.group == 'H' %}
                        <th>First Name</th>
                        <th>Last Name</th>
                    {% endif %}
                    <th>Gender</th>
                    <th>Age</th>
                    <th>Weight</th>
                    <th>Height</th>
                    <th>Health History</th>
                </tr>
            </thead>
            <tbody>
                {% for record in data %}
                <tr>
                    {% if current_user.group == 'H' %}
                        <td>{{ record.first_name }}</td>
                        <td>{{ record.last_name }}</td>
                    {% endif %}
                    <td>{{ record.gender }}</td>
                    <td>{{ record.age }}</td>
                    <td>{{ record.weight }}</td>
                    <td>{{ record.height }}</td>
                    <td>{{ record.health_history }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
{% endblock %}